expname = Car/1105_v7_train_vel_1_interval
# basedir = ./log
basedir = /mnt/sda/workspace/PINF_Project/our_output/

### data info
datadir = ./data/Car_smoke
dataset_type = pinf_data
no_batching = True
half_res = normal
white_bkgd = True
testskip = 20

### network arch
net_model = hybrid_neus
use_viewdirs = False
density_map_first_omega = 1
position_map_first_omega = 1

### train params - sampling
N_samples = 64
N_importance = 0
N_rand = 512
i_embed = -1
train_warp = True
vol_output_W = 256
train_vel_grid_size = 24

### train params - iterations
precrop_iters = 500
precrop_frac = 0.5
lrate_decay = 500
fading_layers = 50000
tempo_delay = 0
vel_delay = 20000
fading_layers = 10000

### train params - loss weights
vggW = 0.000 # [0.001 - 0.01]
ghostW = 0.00 # [0.001 - 0.005 ]
overlayW = 0.000
d2vW = 0.0  # [0.0 - 4.0, larger values are good for buoyancy driven smoke]

### scene params
# bbox_min = 0.0,0.0,0.0
# bbox_max = 1.0,0.8,1.0

bbox_min = 0.05,-0.05,0.05
bbox_max = 0.95,0.82,0.95

# vol_output_only
# render_only
# render_test

## for neus
ekW = 0.1
i_weights = 5000
i_embed_neus = 0
multires_neus = 4
anneal_end = 50000

i_img = 2000
i_test = 5000
i_weights = 1000
i_video = 50000
N_iter = 400000

cuda_ray = True
scene_scale = 0.33
density_thresh = 1
density_thresh_static = 30
# density_activation = relu
# density_activation = relu
# lagrangian_density_activation = relu

SmokeInsideSDFW = 0.5
SmokeAlphaReguW = 0.02
train_vel_within_rendering = True
boundaryW = 0.5
train_vel_uniform_sample = 2
inside_sdf = 0.02
ColorDivergenceW = 0.01

# boundary_delay = 10000

stage1_finish_recon = 30000
uniform_sample_step = 10000
smoke_recon_delay_start = 0
smoke_recon_delay_last = 0
sdf_loss_delay = 200

stage2_finish_init_lagrangian = 1000
stage3_finish_init_feature = 0

use_two_level_density = True
vel_regulization_weight = 1
neus_early_terminated = False
neus_progressive_pe = True
neus_progressive_pe_start = 20000
# siren_nerf_netdepth = 6
# siren_nerf_first_omega = 10

use_scene_scale_before_pe = True
max_mapping_frame_range = 100
stage4_train_vel_interval = 1

# nseW = 1e-4
 
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/sda_output/Car/1105_v6_much_longer_range/220000.tar
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/sda_output/Car/1105_v5_longer_range/210000.tar
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/sda_output/Car/1105_v4_l1_loss/200000.tar
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/sda_output/Car/1105_v1/100000.tar

# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/Car/1101_v3_correct_ColorDivergenceW/030000.tar

# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/cyl/0924_4090_v3_from_start/010000.tar
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/cyl/0924_4090_v7_only_train_vel_in_stage2/014000.tar
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/cyl/0924_4090_v3_from_start_debug/014000.tar
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/cyl/0924_4090_v7_only_train_vel_in_stage2/016000.tar
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/cyl/0924_4090_v2_stage2_train_feature/060000.tar
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/120000.tar
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/cyl/0922_v9_from_start/085000.tar
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/cyl/0922_v3_stage1_recon/010000.tar
# model_path = /home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/cyl/0922_v4_stage2_3/015000.tar
# model_path =/home/yiming/Documents/workspace/Project_PINF/pinf_clean/log/cyl/0922_v5_stage3/020000.tar